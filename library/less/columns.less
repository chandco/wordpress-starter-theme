

.cf_columns {

	overflow: hidden;
	@padding: 4%;
	position: relative;
	width: 100%;

	//border: 1px solid rgba(255,0,0,0.5);


	.debug {
		//background: #f00;
		//position: absolute;
		//left: 0;
		//top: 0;
		//color: #fff;
		//padding: 10px;
	}
	> *[class^="col-"] {

		//.debug();

		//border: 1px solid rgba(0,0,0,0.5);
		position: relative;
		vertical-align: top;
		box-sizing: border-box;
		float: left;
		padding-right: @padding / 2;
		padding-left: @padding / 2;
		width: 100%;

		&:last-of-type {
			padding-right: 0;
		}

		&:first-of-type {
			padding-left: 0;
		}

		
	}

	.col-quarter { max-width: 25%;  }
	.col-half { max-width: 50%; }
	.col-threequarters { max-width: 75%; }
	.col-third { max-width: 33.333%; }
	.col-twothirds { max-width: 66.666%; }




	/* One */
	.col-smart:only-child {
		max-width: 100%;
	}

	/* Two */
	.col-smart:first-child:nth-last-child(2) ~ .col-smart, .col-smart:first-child:nth-last-child(2) {
		max-width: 50%;
		//margin-right: 1%;
	}

	/* Three */
	.col-smart:first-child:nth-last-child(3) ~ .col-smart, .col-smart:first-child:nth-last-child(3) {
		max-width: 33.33%;
		//margin-right: 1%;
	}

	/* Four */
	.col-smart:first-child:nth-last-child(4) ~ .col-smart, .col-smart:first-child:nth-last-child(4) {
		max-width: 25%;
		//margin-right: 1%;
	}

	/* Last image doesn't need a margin, regardless of count */
	.col-smart:nth-last-of-type(1) {
		//margin-right: 0 !important;
	}

	/* Five, eight, eleven, ... */

	/* First two are half-sized (99% / 2) */
	.col-smart:first-child:nth-last-child(3n+5) ~ .col-smart, .col-smart:first-child:nth-last-child(3n+5) {
		max-width: 50%;

		//margin-right: 1%;
	}

	/* Last n - 2 are (98% / 3) */
	.col-smart:first-child:nth-last-child(3n+5) + .col-smart ~ .col-smart {
		max-width: 33.3%;
		//margin-right: 1%;
	}

	/* But second, fifth, eighth, ... have no right margin */
	.col-smart:first-child:nth-last-child(3n+5) ~ .col-smart:nth-child(3n+2) {
		//margin-right: 0;
	}

/* Six, nine, twelve, ... */

	/* Six, nine, twelve, ... are all (98% / 3) */
	.col-smart:first-child:nth-last-child(3n+6) ~ .col-smart, .col-smart:first-child:nth-last-child(3n+6) {
		max-width: 33.333%;
		//margin-right: 1%;
	}

	/* Every third one of these has no right margin. */
	.col-smart:first-child:nth-last-child(3n+6) ~ .col-smart:nth-child(3n) {
		//margin-right: 0;
	}


	/* Seven, ten, thirteen, ... */

	/* First four are half-sized (99% / 2) */
	.col-smart:first-child:nth-last-child(3n+7) ~ .col-smart, .col-smart:first-child:nth-last-child(3n+7) {
		max-width: 49.5%;
		//margin-right: 1%;
	}

	/* Last n - 4 are (98% / 3) */
	.col-smart:first-child:nth-last-child(3n+7) + .col-smart + .col-smart + .col-smart ~ .col-smart {
		max-width: 32.6%;
		//margin-right: 1%;
	}

	/* The second and fourth, seventh, tenth, ... have no right margin */
	.col-smart:first-child:nth-last-child(3n+7) + .col-smart, 
		.col-smart:first-child:nth-last-child(3n+7) ~ .col-smart:nth-child(3n+4) {
		//margin-right: 0;
	}
	


	@media screen and (max-width: 768px) {
		> div[class^="col-"] {
			max-width: 100% !important;
			padding-left: 0;
			padding-right: 0;
		}

		&.no-respond {
			.col-quarter { width: 25%;  }
			.col-half { width: 50%; }
			.col-threequarters { width: 75%; }
			.col-third { width: 33.333%; }
			.col-twothirds { width: 66.666%; }

			> div[class^="col-"] {
				&:last-of-type {
					padding-right: 0;
				}

				&:first-of-type {
					padding-left: 0;
				}
			}
		}
	}


}